name: elixir
description: Install Elixir and Erlang via mise
depends_on:
  - mise

steps:
  - name: install_dependencies_ubuntu
    script: |
      source "$(cd "$(dirname "${BASH_SOURCE[0]}")/../../.." && pwd)/lib/utils/log_verbose.sh"
      if [[ "$(uname)" == "Linux" ]]; then
        log_verbose "ðŸ“¦ Installing..."
        sudo apt update -y
        sudo apt install -y build-essential
      fi

  - name: install_erlang
    script: |
      source "$(cd "$(dirname "${BASH_SOURCE[0]}")/../../.." && pwd)/lib/utils/log_verbose.sh"
      log_verbose "ðŸ“¦ Installing..."
      mise use -g erlang
      echo "âœ… Erlang installed!"

  - name: install_elixir
    script: |
      source "$(cd "$(dirname "${BASH_SOURCE[0]}")/../../.." && pwd)/lib/utils/log_verbose.sh"
      log_verbose "ðŸ“¦ Installing..."
      mise use -g elixir
      echo "âœ… Elixir installed!"
