name: zellij_macos
description: Install and configure Zellij terminal multiplexer on macOS

steps:
  - name: install_dependencies
    script: |
      log_verbose "üì¶ Installing..."
      brew install curl

  - name: install_rust
    script: |
      log_verbose "ü¶Ä Checking..."
      if ! command -v cargo &> /dev/null; then
        echo "üì¶ Cargo (Rust) not found! Installing Rust..."
        curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
        export PATH="$HOME/.cargo/bin:$PATH"
        echo "‚úÖ Rust and Cargo installed successfully!"
      else
        echo "‚úÖ Cargo (Rust) is already installed."
      fi

  - name: install_zellij
    script: |
      log_verbose "üì¶ Installing..."
      export PATH="$HOME/.cargo/bin:$PATH"
      cargo install zellij
      echo "‚úÖ Zellij installed successfully!"

  - name: copy_config
    script: |
      log_verbose "üìù Setting..."
      ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/../../.." && pwd)"
      mkdir -p "$HOME/.config/zellij"
      cp -r "$ROOT_DIR/config/zellij/." "$HOME/.config/zellij/"
      echo "‚úÖ Zellij configured successfully!"
